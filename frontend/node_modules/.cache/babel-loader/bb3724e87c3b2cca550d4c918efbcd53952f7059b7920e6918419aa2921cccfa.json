{"ast":null,"code":"import { QryEmpty, SeatReturn, QryPosition } from './ApiFunc';\nconst ShinGuan = 0,\n  Lishin = 1;\nconst rent = 0,\n  ret = 1,\n  search = 2;\nconst seatHandling = (register, people, person, wheretosit) => {\n  let seat = [];\n  let columnSize, rowSize, size; // size for total count of seats including all kind of seats\n\n  if (wheretosit === ShinGuan) {\n    [columnSize, rowSize, size] = [20, 5, 96];\n  } else if (wheretosit === Lishin) {\n    [columnSize, rowSize, size] = [8, 5, 40];\n  }\n\n  // create seat\n  for (let r = 0, id = 1; r < rowSize; r++) {\n    let subCol = [];\n    for (let c = 0; c < columnSize && id <= size; c++, id++) {\n      subCol.push({\n        id: id - 1,\n        registered: false,\n        r: r,\n        c: c,\n        ifPersonSeat: false\n      });\n    }\n    seat.push(subCol);\n  }\n\n  // fill registered attribute\n  console.log(person);\n  people.map(p => {\n    let r = parseInt(p.seatID / columnSize);\n    let c = p.seatID % columnSize;\n    if (p.wheretosit === wheretosit) seat[r][c].registered = true;\n    if (register === ret && person.account === p.account) {\n      console.log(\"someone same\");\n      seat[r][c].ifPersonSeat = true;\n    }\n  });\n  return {\n    rowSize,\n    columnSize,\n    size,\n    seat\n  };\n};\nexport default seatHandling;","map":{"version":3,"names":["QryEmpty","SeatReturn","QryPosition","ShinGuan","Lishin","rent","ret","search","seatHandling","register","people","person","wheretosit","seat","columnSize","rowSize","size","r","id","subCol","c","push","registered","ifPersonSeat","console","log","map","p","parseInt","seatID","account"],"sources":["C:/Users/kenny/Desktop/hw/wp/final_project/wp_final_project/frontend/src/util/seatHandling.js"],"sourcesContent":["import {QryEmpty, SeatReturn, QryPosition} from './ApiFunc'\r\nconst ShinGuan = 0, Lishin = 1;\r\nconst rent = 0, ret = 1, search = 2;\r\nconst seatHandling = (register, people, person, wheretosit) => {\r\n    let seat = [];\r\n    let columnSize, rowSize, size; // size for total count of seats including all kind of seats\r\n\r\n    if(wheretosit === ShinGuan) {\r\n        [columnSize, rowSize, size] = [20, 5, 96];\r\n    }\r\n    else if(wheretosit === Lishin) {\r\n        [columnSize, rowSize, size] = [8, 5, 40];\r\n    }\r\n\r\n    // create seat\r\n    for (let r = 0, id = 1; r < rowSize; r++) {\r\n        let subCol = [];\r\n        for (let c = 0; c < columnSize && id <= size; c++, id++) {\r\n            subCol.push({\r\n                id: id - 1,          \r\n                registered: false,      \r\n                r: r, c: c,\r\n                ifPersonSeat: false\r\n            });\r\n        }\r\n        seat.push(subCol);\r\n    }\r\n    \r\n    // fill registered attribute\r\n    console.log(person);\r\n    people.map(p => {\r\n        let r = parseInt(p.seatID / columnSize)\r\n        let c = p.seatID % columnSize;\r\n        if(p.wheretosit === wheretosit)\r\n            seat[r][c].registered = true;\r\n        if(register === ret && person.account === p.account) {\r\n            console.log(\"someone same\");\r\n            seat[r][c].ifPersonSeat = true;\r\n        }\r\n    })\r\n    return { rowSize, columnSize, size, seat };\r\n}\r\nexport default seatHandling;"],"mappings":"AAAA,SAAQA,QAAQ,EAAEC,UAAU,EAAEC,WAAW,QAAO,WAAW;AAC3D,MAAMC,QAAQ,GAAG,CAAC;EAAEC,MAAM,GAAG,CAAC;AAC9B,MAAMC,IAAI,GAAG,CAAC;EAAEC,GAAG,GAAG,CAAC;EAAEC,MAAM,GAAG,CAAC;AACnC,MAAMC,YAAY,GAAG,CAACC,QAAQ,EAAEC,MAAM,EAAEC,MAAM,EAAEC,UAAU,KAAK;EAC3D,IAAIC,IAAI,GAAG,EAAE;EACb,IAAIC,UAAU,EAAEC,OAAO,EAAEC,IAAI,CAAC,CAAC;;EAE/B,IAAGJ,UAAU,KAAKT,QAAQ,EAAE;IACxB,CAACW,UAAU,EAAEC,OAAO,EAAEC,IAAI,CAAC,GAAG,CAAC,EAAE,EAAE,CAAC,EAAE,EAAE,CAAC;EAC7C,CAAC,MACI,IAAGJ,UAAU,KAAKR,MAAM,EAAE;IAC3B,CAACU,UAAU,EAAEC,OAAO,EAAEC,IAAI,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,EAAE,EAAE,CAAC;EAC5C;;EAEA;EACA,KAAK,IAAIC,CAAC,GAAG,CAAC,EAAEC,EAAE,GAAG,CAAC,EAAED,CAAC,GAAGF,OAAO,EAAEE,CAAC,EAAE,EAAE;IACtC,IAAIE,MAAM,GAAG,EAAE;IACf,KAAK,IAAIC,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGN,UAAU,IAAII,EAAE,IAAIF,IAAI,EAAEI,CAAC,EAAE,EAAEF,EAAE,EAAE,EAAE;MACrDC,MAAM,CAACE,IAAI,CAAC;QACRH,EAAE,EAAEA,EAAE,GAAG,CAAC;QACVI,UAAU,EAAE,KAAK;QACjBL,CAAC,EAAEA,CAAC;QAAEG,CAAC,EAAEA,CAAC;QACVG,YAAY,EAAE;MAClB,CAAC,CAAC;IACN;IACAV,IAAI,CAACQ,IAAI,CAACF,MAAM,CAAC;EACrB;;EAEA;EACAK,OAAO,CAACC,GAAG,CAACd,MAAM,CAAC;EACnBD,MAAM,CAACgB,GAAG,CAACC,CAAC,IAAI;IACZ,IAAIV,CAAC,GAAGW,QAAQ,CAACD,CAAC,CAACE,MAAM,GAAGf,UAAU,CAAC;IACvC,IAAIM,CAAC,GAAGO,CAAC,CAACE,MAAM,GAAGf,UAAU;IAC7B,IAAGa,CAAC,CAACf,UAAU,KAAKA,UAAU,EAC1BC,IAAI,CAACI,CAAC,CAAC,CAACG,CAAC,CAAC,CAACE,UAAU,GAAG,IAAI;IAChC,IAAGb,QAAQ,KAAKH,GAAG,IAAIK,MAAM,CAACmB,OAAO,KAAKH,CAAC,CAACG,OAAO,EAAE;MACjDN,OAAO,CAACC,GAAG,CAAC,cAAc,CAAC;MAC3BZ,IAAI,CAACI,CAAC,CAAC,CAACG,CAAC,CAAC,CAACG,YAAY,GAAG,IAAI;IAClC;EACJ,CAAC,CAAC;EACF,OAAO;IAAER,OAAO;IAAED,UAAU;IAAEE,IAAI;IAAEH;EAAK,CAAC;AAC9C,CAAC;AACD,eAAeL,YAAY"},"metadata":{},"sourceType":"module","externalDependencies":[]}